pi@raspberrypi:~/rpi_ws281x $ sudo ./camera_with_flash.py
Traceback (most recent call last):
  File "./camera_with_flash.py", line 48, in <module>
    camera.capture(fileName+"jpg")
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 1375, in capt                                                                                                             ure
    format = self._get_image_format(output, format)
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 595, in _get_                                                                                                             image_format
    format = format or self._get_output_format(output)
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 579, in _get_                                                                                                             output_format
    'Unable to determine type from filename %s' % filename)
picamera.exc.PiCameraValueError: Unable to determine type from filename 20161130                                                                                                             -144140jpg
pi@raspberrypi:~/rpi_ws281x $ nano camera_with_flash.py
pi@raspberrypi:~/rpi_ws281x $ sudo ./camera_with_flash.py
Traceback (most recent call last):
  File "./camera_with_flash.py", line 48, in <module>
    camera.capture(fileName+"jpg")
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 1375, in capt                                                                                                             ure
    format = self._get_image_format(output, format)
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 595, in _get_                                                                                                             image_format
    format = format or self._get_output_format(output)
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 579, in _get_                                                                                                             output_format
    'Unable to determine type from filename %s' % filename)
picamera.exc.PiCameraValueError: Unable to determine type from filename 20161130                                                                                                             -144140jpg
pi@raspberrypi:~/rpi_ws281x $ nano camera_with_flash.py
pi@raspberrypi:~/rpi_ws281x $ sudo ./camera_with_flash.py
Traceback (most recent call last):
  File "./camera_with_flash.py", line 48, in <module>
    camera.capture(fileName+"jpg")
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 1375, in capt                                                                                                             ure
    format = self._get_image_format(output, format)
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 595, in _get_                                                                                                             image_format
    format = format or self._get_output_format(output)
  File "/usr/lib/python2.7/dist-packages/picamera/camera.py", line 579, in _get_                                                                                                             output_format
    'Unable to determine type from filename %s' % filename)
picamera.exc.PiCameraValueError: Unable to determine type from filename 20161130                                                                                                             -144140jpg
berrypi:~/rpi_ws281x $ nano camera_with_flash.py
#!/usr/bin/env python

import time 
import picamera 
import time
import os
import glob

from datetime import datetime
from neopixel import *

LEDS		= 24	#amount of leds
PIN 		= 18	#GPIO / PIN 12
BRIGHTNESS 	= 55 	#min 0 / max 255

KLEUR_R		= 255
KLEUR_G		= 255
KLEUR_B		= 255

timeToSleep 	= 2.0

def loopLed(ring, color):
	for i in range(ring.numPixels()):
		ring.setPixelColor(i,color)
		ring.show()
	
def resetLeds(ring, color, wait_ms=10):
	for i in range(ring.numPixels()):
		ring.setPixelColor(i, color)
		ring.show()

if __name__ == '__main__':
	ring = Adafruit_NeoPixel(LEDS, PIN, 800000, 5, False, BRIGHTNESS)
	camera = picamera.PiCamera()	
	
	ring.begin()

	resetLeds(ring,Color(0,0,0))
	
	loopLed(ring, Color(KLEUR_R, KLEUR_G, KLEUR_B))
	
	fileName = datetime.now().strftime("%Y%m%d-%H%M%S")	

	time.sleep(timeToSleep)	
	
	camera.rotation = 180

	camera.capture(fileName+"jpg")	

	resetLeds(ring,Color(0,0,0))
